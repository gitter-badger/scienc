<link rel="import" href="/static/elements/polymer/polymer/polymer.html"/>
<link rel="import" href="/static/elements/app-router/app-router.html"/>
<link rel="import" href="/static/elements/html5-history-anchor/html5-history-anchor.html"/>
<link rel="import" href="/static/elements/polymer/core-icons/core-icons.html">

<polymer-element name="project-item" attributes="data">
	<template>
		<style>
			:host {
				border: 2px solid #ccc;
				padding: 10px;
				max-width: 960px;
				position: relative;
			}
			h1 {
				margin: 0 0 10px 0;
			}
            a {
                text-decoration: none;
                color: inherit;
            }
			.project-holder {
				background-color: #21303F;
				color: white;
				padding: 5px;
			}
			.project-like-icon {
				cursor: pointer;
				position: absolute;
				left: 50%;
				margin-left: -12px;
			}
			.project-like-icon:hover svg {
				stroke: #FF334F;
			}
			.project-like-icon svg {
				fill: white;
				stroke-width: 2px;
				stroke: #ccc;
				transition: fill 0.3s ease, stroke 0.3s ease;
			}
			.project-like-icon.liked svg {
				fill: #FF334F;
				stroke: #FF334F;
			}
		</style>
		<article class="project">
			<header class="project-header">
				<h1>
					<a is="html5-history-anchor" href="/project/{{data.id}}" pushstate popstate>{{data.title}}</a>
				</h1>
				<div horizontal layout justified center>
					<div class="project-holder">{{data.organization}}</div>
					<div class="project-end-date">
						дата окончания
						<span>{{data.dt_updated}}</span>
					</div>
				</div>
			</header>
			<p>
				<b>Краткое описание: </b>{{data.description_short}}
			</p>
			<core-icon class="project-like-icon" icon="favorite" on-tap="{{onFavIconTap}}"></core-icon>
		</article>
	</template>
	<script>
		Polymer({
			onFavIconTap: function(e, detail, sender) {
				e.target.classList.toggle('liked');
			}
		});
	</script>
</polymer-element>